<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <title>Trivia Bot</title>

    <!-- Bootstrap core CSS -->
    <link href="{{ url_for('static', filename='vendor/bootstrap/css/bootstrap.min.css') }}" rel="stylesheet">


    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/fontawesome.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/templatemo-lugx-gaming.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/owl.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/animate.css') }}">
    <link rel="stylesheet"href="https://unpkg.com/swiper@7/swiper-bundle.min.css"/>
<!--

TemplateMo 589 lugx gaming

https://templatemo.com/tm-589-lugx-gaming

-->
  </head>

<body>

  <!-- ***** Preloader Start ***** -->
  <div id="js-preloader" class="js-preloader">
    <div class="preloader-inner">
      <span class="dot"></span>
      <div class="dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
  <!-- ***** Preloader End ***** -->

  <!-- ***** Header Area Start ***** -->
  <header class="header-area header-sticky">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <nav class="main-nav">
                    <!-- ***** Logo Start ***** -->
                    <a href="/" class="logo">
                        <img src="{{ url_for('static', filename='assets/images/rv_logo.jpg') }}" alt="" style="width: 138px;">
                    </a>
                    <!-- ***** Logo End ***** -->
                    <!-- ***** Menu Start ***** -->
                    <ul class="nav">
                      <li><a href="/">Home</a></li>
                      <li><a href="AIDebugger">AI Debugger</a></li>
                      <li><a href="Visualizer">Visualizer</a></li>
                      <li><a href="TriviaBot">Trivia Bot</a></li>
                      <li><a href="MatchTiles" class="active">Match Tiles</a></li>
                      <li><a href="#">Loop Back</a></li>
                  </ul>   
                    <a class='menu-trigger'>
                        <span>Menu</span>
                    </a>
                    <!-- ***** Menu End ***** -->
                </nav>
            </div>
        </div>
    </div>
  </header>
  <!-- ***** Header Area End ***** -->

  <div class="page-heading header-text">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <h3>Trivia Bot</h3>
          <span class="breadcrumb"><a href="#">Home</a>  >  Trivia Bot</span>
        </div>
      </div>
    </div>
  </div>

  <div class="contact-page section">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 align-self-center">
          <div class="left-text">
            <div class="section-heading">
              <h6>Trivia Bot</h6>
              <h2>Try out our dynamic Question bot built using GPT-3 Turbo!</h2>            
            </div>
            <p>Want to test out your understanding of looping Statements? Here's the AI powered bot that generates custom questions and veries your answer too. Choose the level of difficulty and get mind stirring questions generated for you. The bot will let you know the answer after your first attempt.</p>
            <ul>
              <!--<li><span>Address</span> Sunny Isles Beach, FL 33160, United States</li>
              <li><span>Phone</span> +123 456 7890</li>
              <li><span>Email</span> lugx@contact.com</li>-->
            </ul>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="right-content">
            <div class="row">
              <div class="col-lg-12">
                <!--Python Tutor Visualizer
                <div id="pytut">
                  <iframe width="800" height="500" frameborder="0" 
                  src="https://pythontutor.com/iframe-embed.html#code=x%20%3D%205%0Ay%20%3D%2010%0Az%20%3D%20x%20%2B%20y&codeDivHeight=400&codeDivWidth=350&cumulative=false&curInstr=3&heapPrimitives=nevernest&origin=opt-frontend.js&py=2&rawInputLstJSON=%5B%5D&textReferences=false"> 
                  </iframe>
                </div>-->
              </div>
              
              <div class="col-lg-12">
                <form id="bot-form" action="/generate_ques" method="post">
                  <div class="row">
                    <div class="col-lg-6">
                      <fieldset>
                        <input type="text" name="level" id="level" placeholder="Level - Easy/ Medium/ Hard" autocomplete="on" required>
                      </fieldset>
                    </div>
                    <div class="col-lg-12">
                        <fieldset>
                          <button type="submit" id="form-submit" class="orange-button">Start</button> <!--action to submit it to pyscript-->
                        </fieldset>
                      </div> 
                    <div class="col-lg-12">
                        <fieldset>
                            <textarea name="question" id="question" placeholder="Question is loading..."></textarea>
                        </fieldset>
                    </div>
                    <div class="col-lg-12">
                      <fieldset>
                        <textarea name="Answer" id="Answer" placeholder="Your answer here..."></textarea>
                      </fieldset>
                    </div>
                    <div class="col-lg-12">
                      <fieldset>
                        <button type="button" id="check-answer" class="yellow-button">Check your answer</button>                      </fieldset>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>  

  <footer>
    <div class="container">
      <div class="col-lg-12">
        <p>Design Thinking Lab - RV College of Engineering Â© 2024 </p>
        <p>Team Members: Goutami Sooda, Ahana Patil, Arya Vinod, Chandana S (3rd Sem CSE)</p>
      </div> 
    </div>
  </footer>

  <!-- Scripts -->
  <!-- Bootstrap core JavaScript -->
  <script src="{{ url_for('static', filename='vendor/jquery/jquery.min.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/bootstrap/js/bootstrap.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/isotope.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/owl-carousel.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/counter.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/custom.js') }}"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var form = document.getElementById('bot-form');

      form.addEventListener('submit', function (event) {
        event.preventDefault(); // Prevent the default form submission

        var formData = new FormData(form); // Get form data
        var jsonData = {};

        // Convert form data to JSON format
        formData.forEach(function (value, key) {
          jsonData[key] = value;
        });

        // Send JSON data to the server
        fetch('/generate_ques', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(jsonData)
        })
        .then(response => response.json())
        .then(data => {
          // Handle the response from the server
          console.log(data);

          // Update the "Question" textarea with the returned value
          var questionTextarea = document.getElementById('question');
          questionTextarea.value = data.response;
        })
        .catch(error => {
          console.error('Error:', error);
        });
      });
    });
  </script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
      var form = document.getElementById('bot-form');
      var checkAnswerButton = document.getElementById('check-answer');
      var answerField = document.getElementById('Answer');

      checkAnswerButton.addEventListener('click', function () {
        var formData = new FormData(form); // Get form data
        var jsonData = {};

        // Convert form data to JSON format
        formData.forEach(function (value, key) {
          jsonData[key] = value;
        });

        // Send JSON data to the server
        fetch('/verify_answer', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(jsonData)
        })
        .then(response => response.json())
        .then(data => {
          // Handle the response from the server
          console.log(data);
          // Update the answer field with the response
          answerField.value = data.response;
        })
        .catch(error => {
          console.error('Error:', error);
        });
      });
    });
  </script>

  </body>
</html>